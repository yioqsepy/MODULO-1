<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìö Sistema de Gesti√≥n de Biblioteca ‚Äî Talento Solutions</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; }

        .gradient-hero {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 30%, #1e40af 60%, #3b82f6 100%);
        }
        .gradient-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 12px;
            overflow-x: auto;
        }
        .code-block .keyword { color: #c084fc; }
        .code-block .string { color: #86efac; }
        .code-block .comment { color: #64748b; }
        .code-block .func { color: #60a5fa; }
        .code-block .cls { color: #fbbf24; }
        .code-block .param { color: #fb923c; }
        .code-block .bool { color: #f472b6; }

        .flow-node {
            transition: all 0.3s ease;
        }
        .flow-node:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .tab-active {
            background: #1e40af;
            color: white;
        }
        .stat-card {
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.1);
        }
        .timeline-dot::before {
            content: '';
            position: absolute;
            left: -29px;
            top: 6px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #3b82f6;
            border: 3px solid #dbeafe;
        }
        .hu-card {
            border-left: 4px solid;
            transition: all 0.3s ease;
        }
        .hu-card:hover {
            transform: translateX(6px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .test-pass { color: #22c55e; }
        .test-anim {
            animation: slideRight 0.4s ease-out forwards;
            opacity: 0;
            transform: translateX(-20px);
        }
        @keyframes slideRight {
            to { opacity: 1; transform: translateX(0); }
        }

        /* ===== LIBRARY APP MODAL ===== */
        .app-overlay {
            position: fixed; inset: 0; z-index: 9999;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(6px);
            display: none; align-items: center; justify-content: center;
            padding: 16px;
        }
        .app-overlay.active { display: flex; }
        .app-window {
            background: #f0f4f8; border-radius: 16px; width: 100%; max-width: 1100px;
            height: 90vh; max-height: 750px; display: flex; flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.4); overflow: hidden;
            animation: appOpen 0.35s ease-out;
        }
        @keyframes appOpen {
            from { transform: scale(0.9) translateY(30px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }
        .app-header { background: #1e3a5f; color: white; padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0; }
        .app-header h2 { font-size: 16px; font-weight: 700; }
        .app-close { background: #ef4444; color: white; border: none; width: 32px; height: 32px; border-radius: 50%; font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
        .app-close:hover { background: #dc2626; transform: scale(1.1); }
        .app-body { display: flex; flex: 1; overflow: hidden; }
        .app-sidebar { width: 200px; background: #f0f4f8; padding: 16px 12px; border-right: 1px solid #e2e8f0; flex-shrink: 0; overflow-y: auto; }
        .app-sidebar h3 { font-size: 14px; font-weight: 700; color: #1e3a5f; margin-bottom: 10px; }
        .app-btn { display: flex; align-items: center; gap: 8px; width: 100%; padding: 9px 12px; margin-bottom: 5px; background: white; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 13px; color: #1e3a5f; cursor: pointer; transition: all 0.2s; text-align: left; font-family: 'Inter', sans-serif; }
        .app-btn:hover { background: #dbeafe; border-color: #93c5fd; transform: translateX(3px); }
        .app-main { flex: 1; display: flex; flex-direction: column; overflow: hidden; padding: 16px; }
        .app-stats { background: #e8f0fe; border: 1px solid #bfdbfe; border-radius: 10px; padding: 10px 16px; margin-bottom: 12px; font-size: 13px; color: #1e3a5f; font-weight: 500; flex-shrink: 0; }
        .app-search { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; flex-shrink: 0; }
        .app-search input { flex: 1; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 13px; font-family: 'Inter', sans-serif; outline: none; transition: border 0.2s; }
        .app-search input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
        .app-table-wrap { flex: 1; overflow: auto; border: 1px solid #e2e8f0; border-radius: 10px; background: white; }
        .app-table { width: 100%; border-collapse: collapse; font-size: 12px; }
        .app-table thead { position: sticky; top: 0; z-index: 2; }
        .app-table th { background: #f1f5f9; padding: 10px 12px; text-align: left; font-weight: 700; color: #475569; border-bottom: 2px solid #e2e8f0; white-space: nowrap; }
        .app-table td { padding: 9px 12px; border-bottom: 1px solid #f1f5f9; color: #334155; }
        .app-table tr { cursor: pointer; transition: background 0.15s; }
        .app-table tbody tr:hover { background: #eff6ff; }
        .app-table tbody tr.selected { background: #dbeafe; outline: 2px solid #3b82f6; outline-offset: -2px; }
        .app-table .tag-disp { background: #dcfce7; color: #166534; padding: 2px 8px; border-radius: 10px; font-size: 11px; font-weight: 600; }
        .app-table .tag-prest { background: #fef2f2; color: #991b1b; padding: 2px 8px; border-radius: 10px; font-size: 11px; font-weight: 600; }
        .app-footer { background: #1e3a5f; color: #a0c4ff; padding: 8px 20px; font-size: 11px; text-align: center; flex-shrink: 0; }
        .app-modal-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; z-index: 10; border-radius: 16px; }
        .app-modal { background: white; border-radius: 14px; padding: 24px; width: 90%; max-width: 420px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); animation: appOpen 0.25s ease-out; }
        .app-modal h3 { font-size: 16px; font-weight: 700; color: #1e3a5f; margin-bottom: 16px; }
        .app-modal label { display: block; font-size: 12px; font-weight: 600; color: #475569; margin-bottom: 4px; margin-top: 10px; }
        .app-modal input { width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 13px; font-family: 'Inter', sans-serif; outline: none; box-sizing: border-box; }
        .app-modal input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
        .app-modal-btns { display: flex; gap: 8px; margin-top: 20px; justify-content: flex-end; }
        .app-modal-btns button { padding: 8px 20px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; border: none; font-family: 'Inter', sans-serif; transition: all 0.2s; }
        .btn-primary { background: #1e3a5f; color: white; }
        .btn-primary:hover { background: #2563eb; }
        .btn-cancel { background: #f1f5f9; color: #475569; }
        .btn-cancel:hover { background: #e2e8f0; }
        .toast { position: absolute; top: 70px; right: 20px; padding: 12px 20px; border-radius: 10px; font-size: 13px; font-weight: 500; z-index: 20; animation: toastIn 0.3s ease-out; box-shadow: 0 8px 30px rgba(0,0,0,0.15); }
        .toast-success { background: #dcfce7; color: #166534; border: 1px solid #86efac; }
        .toast-error { background: #fef2f2; color: #991b1b; border: 1px solid #fca5a5; }
        .toast-info { background: #dbeafe; color: #1e40af; border: 1px solid #93c5fd; }
        @keyframes toastIn { from { transform: translateX(30px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @media (max-width: 768px) {
            .app-sidebar { display: none; }
            .app-window { height: 95vh; max-height: none; }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- ===== HEADER / HERO ===== -->
    <header class="gradient-hero text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-10 left-10 text-9xl">üìö</div>
            <div class="absolute bottom-10 right-10 text-8xl">ü§ñ</div>
            <div class="absolute top-1/2 left-1/3 text-7xl">üíª</div>
        </div>
        <nav class="relative z-10 max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="text-3xl">üìö</span>
                <span class="font-bold text-lg">Talento Solutions</span>
            </div>
            <div class="hidden md:flex gap-6 text-sm font-medium text-blue-200 items-center">
                <button onclick="abrirBiblioteca()" class="bg-green-500 text-white px-3 py-1 rounded-lg text-xs font-bold hover:bg-green-400 transition cursor-pointer">‚ñ∂ Ejecutar</button>
                <a href="#overview" class="hover:text-white transition">Resumen</a>
                <a href="#architecture" class="hover:text-white transition">Arquitectura</a>
                <a href="#code" class="hover:text-white transition">C√≥digo</a>
                <a href="#user-stories" class="hover:text-white transition">Historias</a>
                <a href="#flow" class="hover:text-white transition">Flujo</a>
                <a href="#tests" class="hover:text-white transition">Tests</a>
                <a href="#ethics" class="hover:text-white transition">√âtica</a>
            </div>
            <button onclick="document.getElementById('mobileMenu').classList.toggle('hidden')" class="md:hidden text-2xl">‚ò∞</button>
        </nav>
        <div id="mobileMenu" class="hidden md:hidden px-6 pb-4 space-y-2 text-sm text-blue-200">
            <a href="#overview" class="block hover:text-white">Resumen</a>
            <a href="#architecture" class="block hover:text-white">Arquitectura</a>
            <a href="#code" class="block hover:text-white">C√≥digo</a>
            <a href="#user-stories" class="block hover:text-white">Historias</a>
            <a href="#flow" class="block hover:text-white">Flujo</a>
            <a href="#tests" class="block hover:text-white">Tests</a>
            <a href="#ethics" class="block hover:text-white">√âtica</a>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-6 py-20 md:py-28 text-center">
            <div class="inline-block px-4 py-1.5 bg-blue-500/30 rounded-full text-sm font-medium mb-6 backdrop-blur">
                ü§ñ Proyecto Piloto con Inteligencia Artificial
            </div>
            <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight">
                Sistema de Gesti√≥n<br>de Biblioteca
            </h1>
            <p class="text-lg md:text-xl text-blue-200 max-w-2xl mx-auto mb-10">
                Demostraci√≥n completa de c√≥mo la IA apoya todo el flujo de desarrollo:
                planificaci√≥n, c√≥digo, testing, documentaci√≥n y reflexi√≥n √©tica.
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="abrirBiblioteca()" class="px-8 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-400 transition shadow-lg shadow-green-500/30 cursor-pointer flex items-center gap-2 border-2 border-green-300 animate-pulse hover:animate-none">
                    ‚ñ∂ Ejecutar Biblioteca üìö
                </button>
                <a href="#code" class="px-8 py-3 bg-white text-blue-900 font-bold rounded-xl hover:bg-blue-50 transition shadow-lg">
                    Ver el C√≥digo üíª
                </a>
                <a href="#flow" class="px-8 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-500 transition border border-blue-400">
                    Diagrama de Flujo üìä
                </a>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-50 to-transparent"></div>
    </header>

    <!-- ===== STATS BAR ===== -->
    <section class="max-w-7xl mx-auto px-6 -mt-8 relative z-20">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="stat-card bg-white rounded-2xl p-5 text-center shadow-lg border border-gray-100">
                <div class="text-3xl font-black text-blue-600">380+</div>
                <div class="text-sm text-gray-500 mt-1">L√≠neas de c√≥digo</div>
            </div>
            <div class="stat-card bg-white rounded-2xl p-5 text-center shadow-lg border border-gray-100">
                <div class="text-3xl font-black text-green-600">28</div>
                <div class="text-sm text-gray-500 mt-1">Tests unitarios</div>
            </div>
            <div class="stat-card bg-white rounded-2xl p-5 text-center shadow-lg border border-gray-100">
                <div class="text-3xl font-black text-purple-600">5</div>
                <div class="text-sm text-gray-500 mt-1">Historias de usuario</div>
            </div>
            <div class="stat-card bg-white rounded-2xl p-5 text-center shadow-lg border border-gray-100">
                <div class="text-3xl font-black text-amber-600">6</div>
                <div class="text-sm text-gray-500 mt-1">Archivos del proyecto</div>
            </div>
        </div>
    </section>

    <!-- ===== OVERVIEW ===== -->
    <section id="overview" class="max-w-7xl mx-auto px-6 py-20">
        <div class="text-center mb-14">
            <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">Resumen del Proyecto</h2>
            <p class="text-gray-500 max-w-2xl mx-auto">Un sistema completo de biblioteca desarrollado en Python con Tkinter, usando IA como co-piloto en cada fase.</p>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
            <div class="gradient-card rounded-2xl p-8 border border-blue-100">
                <div class="text-4xl mb-4">üìã</div>
                <h3 class="text-xl font-bold mb-3 text-gray-900">Planificaci√≥n</h3>
                <p class="text-gray-600 text-sm leading-relaxed">An√°lisis de requisitos, definici√≥n de historias de usuario, dise√±o de arquitectura y estructura de archivos ‚Äî todo asistido por IA.</p>
            </div>
            <div class="gradient-card rounded-2xl p-8 border border-blue-100">
                <div class="text-4xl mb-4">‚öôÔ∏è</div>
                <h3 class="text-xl font-bold mb-3 text-gray-900">Desarrollo</h3>
                <p class="text-gray-600 text-sm leading-relaxed">C√≥digo Python con clases bien estructuradas, funciones puras para l√≥gica de negocio, GUI con Tkinter y persistencia en JSON.</p>
            </div>
            <div class="gradient-card rounded-2xl p-8 border border-blue-100">
                <div class="text-4xl mb-4">‚úÖ</div>
                <h3 class="text-xl font-bold mb-3 text-gray-900">Calidad</h3>
                <p class="text-gray-600 text-sm leading-relaxed">28 tests unitarios con cobertura de edge cases, documentaci√≥n completa con docstrings y diagramas de flujo.</p>
            </div>
        </div>
    </section>

    <!-- ===== ARCHITECTURE ===== -->
    <section id="architecture" class="bg-white py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üèóÔ∏è Arquitectura del Sistema</h2>
                <p class="text-gray-500">Dise√±o en capas con separaci√≥n clara de responsabilidades</p>
            </div>
            <div class="max-w-3xl mx-auto">
                <!-- Capa GUI -->
                <div class="bg-blue-600 text-white rounded-t-2xl p-6 text-center">
                    <div class="font-bold text-lg">üñ•Ô∏è BibliotecaGUI</div>
                    <div class="text-blue-200 text-sm mt-1">Interfaz Gr√°fica (Tkinter) ‚Äî Ventana, botones, tabla, filtros</div>
                </div>
                <!-- Capa Biblioteca -->
                <div class="bg-blue-500 text-white p-6 text-center">
                    <div class="font-bold text-lg">üì¶ Biblioteca</div>
                    <div class="text-blue-200 text-sm mt-1">Gesti√≥n de colecci√≥n + Persistencia JSON + Estad√≠sticas</div>
                </div>
                <!-- Capa L√≥gica -->
                <div class="bg-blue-400 text-white p-6 text-center flex flex-col md:flex-row gap-4 justify-center">
                    <div class="bg-blue-300/30 rounded-xl p-4 flex-1 backdrop-blur">
                        <div class="font-bold">üìó Libro</div>
                        <div class="text-blue-100 text-xs mt-1">Modelo de datos</div>
                    </div>
                    <div class="bg-blue-300/30 rounded-xl p-4 flex-1 backdrop-blur">
                        <div class="font-bold">üì§ prestar_libro()</div>
                        <div class="text-blue-100 text-xs mt-1">L√≥gica de pr√©stamo</div>
                    </div>
                    <div class="bg-blue-300/30 rounded-xl p-4 flex-1 backdrop-blur">
                        <div class="font-bold">üì• devolver_libro()</div>
                        <div class="text-blue-100 text-xs mt-1">L√≥gica de devoluci√≥n</div>
                    </div>
                </div>
                <!-- Capa Datos -->
                <div class="bg-gray-800 text-white rounded-b-2xl p-6 text-center">
                    <div class="font-bold text-lg">üíæ datos_biblioteca.json</div>
                    <div class="text-gray-400 text-sm mt-1">Persistencia de datos en archivo JSON</div>
                </div>
            </div>

            <!-- File Structure -->
            <div class="mt-14 max-w-2xl mx-auto">
                <h3 class="text-xl font-bold mb-6 text-center">üìÅ Estructura de Archivos</h3>
                <div class="code-block p-6 text-sm font-mono">
<pre>biblioteca-ia/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ biblioteca.py              <span class="comment"># Clases + GUI (~380 l√≠neas)</span>
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_biblioteca.py         <span class="comment"># 28 tests unitarios</span>
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ proceso_ia.md              <span class="comment"># Documentaci√≥n del proceso</span>
‚îÇ   ‚îî‚îÄ‚îÄ diagrama_flujo_prestamo.md <span class="comment"># Diagramas de flujo</span>
‚îú‚îÄ‚îÄ .gitignore                     <span class="comment"># Archivos ignorados</span>
‚îú‚îÄ‚îÄ requirements.txt               <span class="comment"># Dependencias</span>
‚îú‚îÄ‚îÄ README.md                      <span class="comment"># Gu√≠a del proyecto</span>
‚îî‚îÄ‚îÄ index.html                     <span class="comment"># Esta presentaci√≥n</span></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== CODE PREVIEW ===== -->
    <section id="code" class="max-w-7xl mx-auto px-6 py-20">
        <div class="text-center mb-14">
            <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üíª Vista del C√≥digo</h2>
            <p class="text-gray-500">Clases principales del sistema con documentaci√≥n y type hints</p>
        </div>

        <!-- Tabs -->
        <div class="flex flex-wrap gap-2 mb-6 justify-center" id="codeTabs">
            <button onclick="showCodeTab('libro')" class="code-tab px-5 py-2 rounded-lg font-medium text-sm transition tab-active" data-tab="libro">üìó Clase Libro</button>
            <button onclick="showCodeTab('prestar')" class="code-tab px-5 py-2 rounded-lg font-medium text-sm transition bg-gray-200 text-gray-700" data-tab="prestar">üì§ Prestar</button>
            <button onclick="showCodeTab('devolver')" class="code-tab px-5 py-2 rounded-lg font-medium text-sm transition bg-gray-200 text-gray-700" data-tab="devolver">üì• Devolver</button>
            <button onclick="showCodeTab('biblioteca')" class="code-tab px-5 py-2 rounded-lg font-medium text-sm transition bg-gray-200 text-gray-700" data-tab="biblioteca">üì¶ Biblioteca</button>
        </div>

        <!-- Code Panels -->
        <div class="max-w-4xl mx-auto">
            <div id="code-libro" class="code-panel code-block p-6 text-sm font-mono leading-relaxed">
<pre><span class="keyword">class</span> <span class="cls">Libro</span>:
    <span class="string">"""Representa un libro dentro del sistema de biblioteca."""</span>

    <span class="keyword">def</span> <span class="func">__init__</span>(<span class="param">self</span>, <span class="param">titulo</span>: <span class="cls">str</span>, <span class="param">autor</span>: <span class="cls">str</span>,
                 <span class="param">isbn</span>: <span class="cls">str</span>, <span class="param">genero</span>: <span class="cls">str</span> = <span class="string">"General"</span>):
        self.titulo = titulo
        self.autor = autor
        self.isbn = isbn
        self.genero = genero
        self.disponible = <span class="bool">True</span>
        self.fecha_prestamo = <span class="bool">None</span>
        self.fecha_devolucion = <span class="bool">None</span>
        self.prestatario = <span class="bool">None</span>

    <span class="keyword">def</span> <span class="func">to_dict</span>(<span class="param">self</span>) -> <span class="cls">dict</span>:
        <span class="string">"""Convierte el libro a diccionario para JSON."""</span>
        <span class="keyword">return</span> {
            <span class="string">"titulo"</span>: self.titulo,
            <span class="string">"autor"</span>: self.autor,
            <span class="string">"isbn"</span>: self.isbn,
            <span class="string">"disponible"</span>: self.disponible,
            ...
        }

    <span class="keyword">@classmethod</span>
    <span class="keyword">def</span> <span class="func">from_dict</span>(<span class="param">cls</span>, <span class="param">datos</span>: <span class="cls">dict</span>) -> <span class="string">"Libro"</span>:
        <span class="string">"""Crea Libro desde diccionario."""</span>
        libro = cls(datos[<span class="string">"titulo"</span>], ...)
        <span class="keyword">return</span> libro</pre>
            </div>

            <div id="code-prestar" class="code-panel code-block p-6 text-sm font-mono leading-relaxed hidden">
<pre><span class="keyword">def</span> <span class="func">prestar_libro</span>(<span class="param">libro</span>: <span class="cls">Libro</span>, <span class="param">prestatario</span>: <span class="cls">str</span>,
                  <span class="param">dias_prestamo</span>: <span class="cls">int</span> = <span class="param">14</span>) -> <span class="cls">bool</span>:
    <span class="string">"""
    Realiza el pr√©stamo de un libro a un prestatario.

    Args:
        libro: Instancia de Libro a prestar.
        prestatario: Nombre de quien recibe el libro.
        dias_prestamo: D√≠as del pr√©stamo (default: 14).

    Returns:
        True si fue exitoso, False si no est√° disponible.
    """</span>
    <span class="keyword">if not</span> prestatario <span class="keyword">or not</span> prestatario.strip():
        <span class="keyword">raise</span> <span class="cls">ValueError</span>(<span class="string">"El nombre no puede estar vac√≠o."</span>)

    <span class="keyword">if not</span> libro.disponible:
        <span class="keyword">return</span> <span class="bool">False</span>

    libro.disponible = <span class="bool">False</span>
    libro.prestatario = prestatario.strip()
    libro.fecha_prestamo = datetime.now().isoformat()
    libro.fecha_devolucion = (
        datetime.now() + timedelta(days=dias_prestamo)
    ).isoformat()
    <span class="keyword">return</span> <span class="bool">True</span></pre>
            </div>

            <div id="code-devolver" class="code-panel code-block p-6 text-sm font-mono leading-relaxed hidden">
<pre><span class="keyword">def</span> <span class="func">devolver_libro</span>(<span class="param">libro</span>: <span class="cls">Libro</span>) -> <span class="cls">bool</span>:
    <span class="string">"""
    Registra la devoluci√≥n de un libro prestado.

    Args:
        libro: Instancia de Libro a devolver.

    Returns:
        True si fue exitoso, False si ya estaba disponible.
    """</span>
    <span class="keyword">if</span> libro.disponible:
        <span class="keyword">return</span> <span class="bool">False</span>

    libro.disponible = <span class="bool">True</span>
    libro.prestatario = <span class="bool">None</span>
    libro.fecha_prestamo = <span class="bool">None</span>
    libro.fecha_devolucion = <span class="bool">None</span>
    <span class="keyword">return</span> <span class="bool">True</span></pre>
            </div>

            <div id="code-biblioteca" class="code-panel code-block p-6 text-sm font-mono leading-relaxed hidden">
<pre><span class="keyword">class</span> <span class="cls">Biblioteca</span>:
    <span class="string">"""Gestiona la colecci√≥n completa de libros."""</span>

    <span class="keyword">def</span> <span class="func">__init__</span>(<span class="param">self</span>):
        self.libros: list[<span class="cls">Libro</span>] = []
        self.cargar_datos()

    <span class="keyword">def</span> <span class="func">agregar_libro</span>(<span class="param">self</span>, <span class="param">titulo</span>, <span class="param">autor</span>, <span class="param">isbn</span>, <span class="param">genero</span>=<span class="string">"General"</span>):
        <span class="string">"""Agrega un nuevo libro a la colecci√≥n."""</span>
        <span class="keyword">if</span> self.buscar_por_isbn(isbn):
            <span class="keyword">raise</span> <span class="cls">ValueError</span>(<span class="string">f"Ya existe ISBN '{isbn}'"</span>)
        libro = <span class="cls">Libro</span>(titulo, autor, isbn, genero)
        self.libros.append(libro)
        self.guardar_datos()
        <span class="keyword">return</span> libro

    <span class="keyword">def</span> <span class="func">prestar</span>(<span class="param">self</span>, <span class="param">isbn</span>, <span class="param">prestatario</span>, <span class="param">dias</span>=<span class="param">14</span>):
        <span class="string">"""Presta un libro por ISBN."""</span>
        libro = self.buscar_por_isbn(isbn)
        resultado = prestar_libro(libro, prestatario, dias)
        <span class="keyword">if</span> resultado: self.guardar_datos()
        <span class="keyword">return</span> resultado

    <span class="keyword">def</span> <span class="func">devolver</span>(<span class="param">self</span>, <span class="param">isbn</span>):
        <span class="string">"""Devuelve un libro por ISBN."""</span>
        libro = self.buscar_por_isbn(isbn)
        resultado = devolver_libro(libro)
        <span class="keyword">if</span> resultado: self.guardar_datos()
        <span class="keyword">return</span> resultado

    <span class="keyword">def</span> <span class="func">buscar_por_titulo</span>(<span class="param">self</span>, <span class="param">titulo</span>):
        <span class="keyword">return</span> [l <span class="keyword">for</span> l <span class="keyword">in</span> self.libros
                <span class="keyword">if</span> titulo.lower() <span class="keyword">in</span> l.titulo.lower()]

    <span class="keyword">def</span> <span class="func">estadisticas</span>(<span class="param">self</span>) -> <span class="cls">dict</span>:
        <span class="string">"""Retorna estad√≠sticas de la biblioteca."""</span>
        <span class="keyword">return</span> {
            <span class="string">"total"</span>: len(self.libros),
            <span class="string">"disponibles"</span>: len(self.listar_disponibles()),
            <span class="string">"prestados"</span>: len(self.listar_prestados()),
        }</pre>
            </div>
        </div>
    </section>

    <!-- ===== USER STORIES ===== -->
    <section id="user-stories" class="bg-white py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üìã Historias de Usuario</h2>
                <p class="text-gray-500">5 historias que gu√≠an el desarrollo del sistema</p>
            </div>
            <div class="max-w-3xl mx-auto space-y-6">
                <!-- HU-01 -->
                <div class="hu-card bg-white rounded-xl p-6 shadow-md border-green-500">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full">HU-01</span>
                        <span class="bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-full">Prioridad Alta</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">üìó Registrar un nuevo libro</h3>
                    <p class="text-gray-600 text-sm mb-3">
                        <strong>Como</strong> bibliotecario, <strong>quiero</strong> registrar un nuevo libro con t√≠tulo, autor, ISBN y g√©nero,
                        <strong>para que</strong> quede catalogado y disponible para pr√©stamo.
                    </p>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                        ‚úÖ ISBN √∫nico &nbsp;|&nbsp; ‚úÖ Persistencia autom√°tica &nbsp;|&nbsp; ‚úÖ Estado inicial "Disponible"
                    </div>
                </div>
                <!-- HU-02 -->
                <div class="hu-card bg-white rounded-xl p-6 shadow-md border-blue-500">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-blue-100 text-blue-700 text-xs font-bold px-3 py-1 rounded-full">HU-02</span>
                        <span class="bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-full">Prioridad Alta</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">üì§ Prestar un libro</h3>
                    <p class="text-gray-600 text-sm mb-3">
                        <strong>Como</strong> bibliotecario, <strong>quiero</strong> registrar el pr√©stamo indicando el prestatario,
                        <strong>para que</strong> quede constancia de qui√©n tiene el libro y cu√°ndo debe devolverlo.
                    </p>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                        ‚úÖ Solo libros disponibles &nbsp;|&nbsp; ‚úÖ Fecha autom√°tica &nbsp;|&nbsp; ‚úÖ Plazo de 14 d√≠as
                    </div>
                </div>
                <!-- HU-03 -->
                <div class="hu-card bg-white rounded-xl p-6 shadow-md border-purple-500">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-purple-100 text-purple-700 text-xs font-bold px-3 py-1 rounded-full">HU-03</span>
                        <span class="bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-full">Prioridad Alta</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">üì• Devolver un libro</h3>
                    <p class="text-gray-600 text-sm mb-3">
                        <strong>Como</strong> bibliotecario, <strong>quiero</strong> registrar la devoluci√≥n de un libro,
                        <strong>para que</strong> vuelva a estar disponible para otros usuarios.
                    </p>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                        ‚úÖ Limpia datos de pr√©stamo &nbsp;|&nbsp; ‚úÖ Cambia estado a Disponible &nbsp;|&nbsp; ‚úÖ Persistencia
                    </div>
                </div>
                <!-- HU-04 -->
                <div class="hu-card bg-white rounded-xl p-6 shadow-md border-amber-500">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-amber-100 text-amber-700 text-xs font-bold px-3 py-1 rounded-full">HU-04</span>
                        <span class="bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-full">Prioridad Media</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">üîç Buscar libros</h3>
                    <p class="text-gray-600 text-sm mb-3">
                        <strong>Como</strong> usuario, <strong>quiero</strong> buscar libros por t√≠tulo, autor o ISBN,
                        <strong>para que</strong> pueda encontrar r√°pidamente lo que necesito.
                    </p>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                        ‚úÖ B√∫squeda parcial &nbsp;|&nbsp; ‚úÖ Case-insensitive &nbsp;|&nbsp; ‚úÖ Filtro en tiempo real
                    </div>
                </div>
                <!-- HU-05 -->
                <div class="hu-card bg-white rounded-xl p-6 shadow-md border-teal-500">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-teal-100 text-teal-700 text-xs font-bold px-3 py-1 rounded-full">HU-05</span>
                        <span class="bg-blue-100 text-blue-700 text-xs font-bold px-3 py-1 rounded-full">Prioridad Baja</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">üìä Ver estad√≠sticas</h3>
                    <p class="text-gray-600 text-sm mb-3">
                        <strong>Como</strong> administrador, <strong>quiero</strong> consultar estad√≠sticas generales,
                        <strong>para que</strong> pueda tomar decisiones informadas sobre la gesti√≥n del acervo.
                    </p>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                        ‚úÖ Total / Disponibles / Prestados &nbsp;|&nbsp; ‚úÖ Desglose por g√©nero &nbsp;|&nbsp; ‚úÖ Tiempo real
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== FLOW DIAGRAM ===== -->
    <section id="flow" class="py-20 bg-gradient-to-b from-gray-50 to-blue-50">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üìä Diagrama de Flujo ‚Äî Pr√©stamo</h2>
                <p class="text-gray-500">Flujo visual interactivo del proceso de pr√©stamo de un libro</p>
            </div>
            <div class="max-w-lg mx-auto space-y-4">
                <!-- Nodo 1 -->
                <div class="flow-node bg-blue-600 text-white rounded-2xl p-5 text-center shadow-lg cursor-pointer">
                    <div class="font-bold text-lg">üöÄ INICIO</div>
                    <div class="text-blue-200 text-sm">Solicitud de pr√©stamo</div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-blue-300"></div></div>

                <!-- Nodo 2 -->
                <div class="flow-node bg-white rounded-2xl p-5 text-center shadow-lg border-2 border-blue-200 cursor-pointer">
                    <div class="font-bold">üìã Seleccionar libro</div>
                    <div class="text-gray-500 text-sm">El usuario elige un libro de la tabla</div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-blue-300"></div></div>

                <!-- Nodo 3 - Decisi√≥n -->
                <div class="flow-node bg-amber-100 rounded-2xl p-5 text-center shadow-lg border-2 border-amber-300 cursor-pointer transform rotate-0">
                    <div class="font-bold text-amber-800">‚ùì ¬øLibro disponible?</div>
                </div>
                <div class="flex justify-center items-start gap-8">
                    <div class="flex flex-col items-center">
                        <div class="text-green-600 font-bold text-sm mb-1">‚úÖ S√ç</div>
                        <div class="w-0.5 h-6 bg-green-300"></div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="text-red-600 font-bold text-sm mb-1">‚ùå NO</div>
                        <div class="flow-node bg-red-100 rounded-xl p-3 text-center border border-red-200 text-sm">
                            <div class="text-red-700">‚ö†Ô∏è "Libro ya prestado"</div>
                            <div class="text-red-500 text-xs mt-1">‚Üí FIN</div>
                        </div>
                    </div>
                </div>

                <!-- Nodo 4 -->
                <div class="flow-node bg-white rounded-2xl p-5 text-center shadow-lg border-2 border-green-200 cursor-pointer">
                    <div class="font-bold">‚úèÔ∏è Ingresar prestatario</div>
                    <div class="text-gray-500 text-sm">Se solicita nombre del receptor</div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-green-300"></div></div>

                <!-- Nodo 5 - Decisi√≥n -->
                <div class="flow-node bg-amber-100 rounded-2xl p-5 text-center shadow-lg border-2 border-amber-300 cursor-pointer">
                    <div class="font-bold text-amber-800">‚ùì ¬øNombre v√°lido?</div>
                    <div class="text-amber-600 text-xs">No vac√≠o, no solo espacios</div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-green-300"></div></div>

                <!-- Nodo 6 -->
                <div class="flow-node bg-green-50 rounded-2xl p-5 text-center shadow-lg border-2 border-green-300 cursor-pointer">
                    <div class="font-bold text-green-800">‚öôÔ∏è Registrar pr√©stamo</div>
                    <div class="text-green-600 text-sm mt-2 text-left space-y-1">
                        <div>‚Ä¢ disponible = <code class="bg-green-100 px-1 rounded">False</code></div>
                        <div>‚Ä¢ prestatario = <code class="bg-green-100 px-1 rounded">"nombre"</code></div>
                        <div>‚Ä¢ fecha_prestamo = <code class="bg-green-100 px-1 rounded">hoy</code></div>
                        <div>‚Ä¢ fecha_devolucion = <code class="bg-green-100 px-1 rounded">hoy + 14 d√≠as</code></div>
                    </div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-green-300"></div></div>

                <!-- Nodo 7 -->
                <div class="flow-node bg-white rounded-2xl p-5 text-center shadow-lg border-2 border-blue-200 cursor-pointer">
                    <div class="font-bold">üíæ Guardar en JSON</div>
                    <div class="text-gray-500 text-sm">Persistir cambios + actualizar tabla</div>
                </div>
                <div class="flex justify-center"><div class="w-0.5 h-6 bg-blue-300"></div></div>

                <!-- Nodo Final -->
                <div class="flow-node bg-blue-600 text-white rounded-2xl p-5 text-center shadow-lg cursor-pointer">
                    <div class="font-bold text-lg">‚úÖ FIN</div>
                    <div class="text-blue-200 text-sm">Pr√©stamo registrado exitosamente</div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== TESTS ===== -->
    <section id="tests" class="bg-white py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üß™ Tests Unitarios</h2>
                <p class="text-gray-500">28 tests automatizados con cobertura completa</p>
            </div>
            <div class="max-w-3xl mx-auto">
                <div class="code-block p-6" id="testResults">
                    <div class="flex items-center gap-3 mb-4 border-b border-gray-700 pb-3">
                        <span class="text-lg">üß™</span>
                        <span class="text-gray-300 font-mono text-sm">python -m pytest tests/test_biblioteca.py -v</span>
                        <button onclick="runTests()" class="ml-auto bg-green-600 text-white text-xs px-4 py-1.5 rounded-lg hover:bg-green-500 transition font-bold cursor-pointer">
                            ‚ñ∂ Ejecutar
                        </button>
                    </div>
                    <div id="testOutput" class="font-mono text-xs space-y-1">
                        <div class="text-gray-500">Presiona "Ejecutar" para simular los tests...</div>
                    </div>
                </div>

                <!-- Cobertura -->
                <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-gray-50 rounded-xl p-4 text-center border">
                        <div class="text-2xl font-black text-green-600">7</div>
                        <div class="text-xs text-gray-500 mt-1">TestLibro</div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4 text-center border">
                        <div class="text-2xl font-black text-green-600">5</div>
                        <div class="text-xs text-gray-500 mt-1">TestPrestar</div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4 text-center border">
                        <div class="text-2xl font-black text-green-600">3</div>
                        <div class="text-xs text-gray-500 mt-1">TestDevolver</div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4 text-center border">
                        <div class="text-2xl font-black text-green-600">13</div>
                        <div class="text-xs text-gray-500 mt-1">TestBiblioteca</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== ETHICS ===== -->
    <section id="ethics" class="py-20 bg-gradient-to-b from-blue-50 to-gray-50">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">ü§î Reflexi√≥n √âtica</h2>
                <p class="text-gray-500">Consideraciones sobre el uso responsable de IA en el desarrollo</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Benefits -->
                <div class="bg-green-50 rounded-2xl p-8 border border-green-200">
                    <h3 class="text-xl font-bold text-green-800 mb-6">‚úÖ Beneficios Observados</h3>
                    <div class="space-y-4">
                        <div class="flex gap-3">
                            <span class="text-green-500 text-xl">‚ö°</span>
                            <div>
                                <div class="font-bold text-sm">Velocidad</div>
                                <div class="text-gray-600 text-xs">Prototipo completo en minutos vs. horas</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-green-500 text-xl">üéØ</span>
                            <div>
                                <div class="font-bold text-sm">Consistencia</div>
                                <div class="text-gray-600 text-xs">Estilo uniforme y documentaci√≥n completa</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-green-500 text-xl">üõ°Ô∏è</span>
                            <div>
                                <div class="font-bold text-sm">Buenas pr√°cticas</div>
                                <div class="text-gray-600 text-xs">Patrones de dise√±o aplicados autom√°ticamente</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-green-500 text-xl">üß™</span>
                            <div>
                                <div class="font-bold text-sm">Cobertura de tests</div>
                                <div class="text-gray-600 text-xs">Casos l√≠mite que un humano podr√≠a olvidar</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Risks -->
                <div class="bg-red-50 rounded-2xl p-8 border border-red-200">
                    <h3 class="text-xl font-bold text-red-800 mb-6">‚ö†Ô∏è Riesgos y Consideraciones</h3>
                    <div class="space-y-4">
                        <div class="flex gap-3">
                            <span class="text-red-500 text-xl">üîó</span>
                            <div>
                                <div class="font-bold text-sm">Dependencia tecnol√≥gica</div>
                                <div class="text-gray-600 text-xs">No delegar 100% el pensamiento cr√≠tico</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-red-500 text-xl">üëÅÔ∏è</span>
                            <div>
                                <div class="font-bold text-sm">Revisi√≥n obligatoria</div>
                                <div class="text-gray-600 text-xs">Todo c√≥digo IA debe ser revisado por humanos</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-red-500 text-xl">¬©Ô∏è</span>
                            <div>
                                <div class="font-bold text-sm">Propiedad intelectual</div>
                                <div class="text-gray-600 text-xs">Implicaciones legales del c√≥digo generado</div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <span class="text-red-500 text-xl">üîí</span>
                            <div>
                                <div class="font-bold text-sm">Seguridad</div>
                                <div class="text-gray-600 text-xs">Posibles vulnerabilidades requieren auditor√≠a</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Conclusion -->
            <div class="max-w-3xl mx-auto mt-12 bg-blue-600 text-white rounded-2xl p-8 text-center shadow-xl">
                <div class="text-4xl mb-4">üí°</div>
                <p class="text-lg font-medium leading-relaxed">
                    "La IA no reemplaza al programador; lo <strong>potencia</strong>. El valor real se obtiene
                    al combinar la capacidad generativa de la IA con el criterio, experiencia y
                    supervisi√≥n de desarrolladores humanos."
                </p>
            </div>
        </div>
    </section>

    <!-- ===== TIMELINE ===== -->
    <section class="bg-white py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-14">
                <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">üïê Fases del Desarrollo con IA</h2>
            </div>
            <div class="max-w-2xl mx-auto border-l-2 border-blue-200 pl-8 space-y-10">
                <div class="relative timeline-dot">
                    <div class="text-xs text-blue-500 font-bold mb-1">FASE 1</div>
                    <h3 class="font-bold text-lg">üìã Planificaci√≥n y An√°lisis</h3>
                    <p class="text-gray-500 text-sm mt-1">Definici√≥n de requisitos, historias de usuario y arquitectura del sistema.</p>
                </div>
                <div class="relative timeline-dot">
                    <div class="text-xs text-blue-500 font-bold mb-1">FASE 2</div>
                    <h3 class="font-bold text-lg">üíª Generaci√≥n de C√≥digo</h3>
                    <p class="text-gray-500 text-sm mt-1">Clases Libro y Biblioteca, funciones de pr√©stamo/devoluci√≥n, GUI con Tkinter.</p>
                </div>
                <div class="relative timeline-dot">
                    <div class="text-xs text-blue-500 font-bold mb-1">FASE 3</div>
                    <h3 class="font-bold text-lg">üß™ Testing</h3>
                    <p class="text-gray-500 text-sm mt-1">28 tests unitarios cubriendo funcionalidad, edge cases y persistencia.</p>
                </div>
                <div class="relative timeline-dot">
                    <div class="text-xs text-blue-500 font-bold mb-1">FASE 4</div>
                    <h3 class="font-bold text-lg">üìù Documentaci√≥n</h3>
                    <p class="text-gray-500 text-sm mt-1">README, proceso IA, diagramas de flujo, historias de usuario y presentaci√≥n web.</p>
                </div>
                <div class="relative timeline-dot">
                    <div class="text-xs text-blue-500 font-bold mb-1">FASE 5</div>
                    <h3 class="font-bold text-lg">ü§î Reflexi√≥n √âtica</h3>
                    <p class="text-gray-500 text-sm mt-1">An√°lisis de beneficios, riesgos y recomendaciones sobre el uso de IA.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== LIBRARY APP OVERLAY ===== -->
    <div class="app-overlay" id="appOverlay">
        <div class="app-window" id="appWindow">
            <div class="app-header">
                <h2>üìö  Sistema de Gesti√≥n de Biblioteca</h2>
                <div style="display:flex;align-items:center;gap:12px;">
                    <span style="font-size:11px;color:#a0c4ff;">Talento Solutions ‚Äî Proyecto Piloto IA</span>
                    <button class="app-close" onclick="cerrarBiblioteca()" title="Cerrar">‚úï</button>
                </div>
            </div>
            <div class="app-body">
                <div class="app-sidebar">
                    <h3>Acciones</h3>
                    <button class="app-btn" onclick="appAgregar()">‚ûï Agregar Libro</button>
                    <button class="app-btn" onclick="appBuscar()">üîç Buscar Libro</button>
                    <button class="app-btn" onclick="appPrestar()">üì§ Prestar Libro</button>
                    <button class="app-btn" onclick="appDevolver()">üì• Devolver Libro</button>
                    <button class="app-btn" onclick="appEliminar()">üóëÔ∏è Eliminar Libro</button>
                    <button class="app-btn" onclick="appEstadisticas()">üìä Estad√≠sticas</button>
                    <button class="app-btn" onclick="appActualizar()">üîÑ Actualizar</button>
                </div>
                <div class="app-main">
                    <div class="app-stats" id="appStats">üìö Total: 0   |   ‚úÖ Disponibles: 0   |   üìï Prestados: 0</div>
                    <div class="app-search">
                        <span style="font-size:14px;">üîé</span>
                        <span style="font-size:13px;color:#64748b;">Filtro r√°pido:</span>
                        <input type="text" id="appFilterInput" placeholder="Buscar por t√≠tulo, autor, ISBN o g√©nero..." oninput="appFiltrar()">
                    </div>
                    <div class="app-table-wrap">
                        <table class="app-table">
                            <thead>
                                <tr>
                                    <th>ISBN</th>
                                    <th>T√≠tulo</th>
                                    <th>Autor</th>
                                    <th>G√©nero</th>
                                    <th>Estado</th>
                                    <th>Prestatario</th>
                                </tr>
                            </thead>
                            <tbody id="appTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="app-footer">Desarrollado con apoyo de IA ‚Ä¢ Talento Solutions ¬© 2025</div>
            <!-- Modals container -->
            <div id="appModalContainer"></div>
            <!-- Toast container -->
            <div id="appToastContainer"></div>
        </div>
    </div>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <div class="text-3xl mb-4">üìö</div>
            <h3 class="font-bold text-xl mb-2">Sistema de Gesti√≥n de Biblioteca</h3>
            <p class="text-gray-400 text-sm mb-6">Proyecto Piloto con IA ‚Äî Talento Solutions ¬© 2025</p>
            <div class="flex justify-center gap-6 text-sm text-gray-500">
                <span>Python 3.10+</span>
                <span>‚Ä¢</span>
                <span>Tkinter</span>
                <span>‚Ä¢</span>
                <span>pytest</span>
                <span>‚Ä¢</span>
                <span>JSON</span>
            </div>
            <p class="text-gray-600 text-xs mt-6">Desarrollado con asistencia de Claude (Anthropic) como demostraci√≥n del uso responsable de IA en desarrollo de software.</p>
        </div>
    </footer>

    <!-- ===== JAVASCRIPT ===== -->
    <script>
        // ---- Code Tabs ----
        function showCodeTab(tab) {
            document.querySelectorAll('.code-panel').forEach(p => p.classList.add('hidden'));
            document.querySelectorAll('.code-tab').forEach(t => {
                t.classList.remove('tab-active');
                t.classList.add('bg-gray-200', 'text-gray-700');
            });
            document.getElementById('code-' + tab).classList.remove('hidden');
            const activeBtn = document.querySelector(`.code-tab[data-tab="${tab}"]`);
            activeBtn.classList.add('tab-active');
            activeBtn.classList.remove('bg-gray-200', 'text-gray-700');
        }

        // ---- Simulated Test Runner ----
        function runTests() {
            const output = document.getElementById('testOutput');
            output.innerHTML = '<div class="text-yellow-400">Ejecutando tests...</div>';

            const tests = [
                { suite: "TestLibro", name: "test_creacion_libro", status: "PASSED" },
                { suite: "TestLibro", name: "test_genero_por_defecto", status: "PASSED" },
                { suite: "TestLibro", name: "test_str_disponible", status: "PASSED" },
                { suite: "TestLibro", name: "test_str_prestado", status: "PASSED" },
                { suite: "TestLibro", name: "test_to_dict", status: "PASSED" },
                { suite: "TestLibro", name: "test_from_dict", status: "PASSED" },
                { suite: "TestLibro", name: "test_round_trip_dict", status: "PASSED" },
                { suite: "TestPrestarLibro", name: "test_prestamo_exitoso", status: "PASSED" },
                { suite: "TestPrestarLibro", name: "test_prestamo_libro_no_disponible", status: "PASSED" },
                { suite: "TestPrestarLibro", name: "test_prestamo_prestatario_vacio", status: "PASSED" },
                { suite: "TestPrestarLibro", name: "test_prestamo_prestatario_solo_espacios", status: "PASSED" },
                { suite: "TestPrestarLibro", name: "test_prestamo_strip_nombre", status: "PASSED" },
                { suite: "TestDevolverLibro", name: "test_devolucion_exitosa", status: "PASSED" },
                { suite: "TestDevolverLibro", name: "test_devolucion_libro_disponible", status: "PASSED" },
                { suite: "TestDevolverLibro", name: "test_ciclo_prestamo_devolucion", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_agregar_libro", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_agregar_isbn_duplicado", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_buscar_por_isbn", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_buscar_isbn_inexistente", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_buscar_por_titulo", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_buscar_por_autor", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_listar_disponibles", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_listar_prestados", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_prestar_y_devolver", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_prestar_isbn_inexistente", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_eliminar_libro", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_eliminar_libro_prestado", status: "PASSED" },
                { suite: "TestBiblioteca", name: "test_estadisticas", status: "PASSED" },
            ];

            let html = '';
            let delay = 300;

            tests.forEach((test, i) => {
                setTimeout(() => {
                    const line = `<div class="test-anim" style="animation-delay: 0s">` +
                        `<span class="text-gray-400">tests/test_biblioteca.py::</span>` +
                        `<span class="text-blue-400">${test.suite}</span>` +
                        `<span class="text-gray-500">::</span>` +
                        `<span class="text-gray-300">${test.name}</span> ` +
                        `<span class="test-pass font-bold">‚úì ${test.status}</span></div>`;
                    output.innerHTML += line;
                    output.scrollTop = output.scrollHeight;

                    if (i === tests.length - 1) {
                        setTimeout(() => {
                            output.innerHTML += `<div class="mt-4 pt-3 border-t border-gray-700">` +
                                `<span class="test-pass font-bold text-sm">========================= ` +
                                `${tests.length} passed in 0.15s =========================</span></div>`;
                        }, 200);
                    }
                }, delay * (i + 1));
            });

            setTimeout(() => {
                output.innerHTML = '<div class="text-yellow-400 mb-2">Collecting tests...</div>';
            }, 100);
        }

        // ---- Smooth scroll ----
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // Close mobile menu
                    document.getElementById('mobileMenu').classList.add('hidden');
                }
            });
        });

        // ---- Intersection Observer for animations ----
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fade-in');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.hu-card, .flow-node, .stat-card').forEach(el => {
            observer.observe(el);
        });

        // ================================================================
        // SISTEMA DE GESTI√ìN DE BIBLIOTECA ‚Äî Versi√≥n Web Interactiva
        // R√©plica funcional completa del sistema Python/Tkinter
        // ================================================================

        const STORAGE_KEY = 'biblioteca_datos';
        let libros = [];
        let selectedISBN = null;

        // -- Datos de ejemplo (mismos que en Python) --
        const librosEjemplo = [
            { titulo: "Cien a√±os de soledad", autor: "Gabriel Garc√≠a M√°rquez", isbn: "978-0-06-088328-7", genero: "Novela", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "Don Quijote de la Mancha", autor: "Miguel de Cervantes", isbn: "978-84-376-0494-7", genero: "Cl√°sico", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "El Principito", autor: "Antoine de Saint-Exup√©ry", isbn: "978-0-15-601219-5", genero: "Infantil", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "1984", autor: "George Orwell", isbn: "978-0-451-52493-5", genero: "Ciencia Ficci√≥n", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "Rayuela", autor: "Julio Cort√°zar", isbn: "978-84-376-0602-6", genero: "Novela", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "La sombra del viento", autor: "Carlos Ruiz Zaf√≥n", isbn: "978-84-08-04171-3", genero: "Misterio", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "Cr√≥nica de una muerte anunciada", autor: "Gabriel Garc√≠a M√°rquez", isbn: "978-84-376-0781-8", genero: "Novela", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
            { titulo: "Harry Potter y la piedra filosofal", autor: "J.K. Rowling", isbn: "978-84-7888-445-8", genero: "Fantas√≠a", disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null },
        ];

        function cargarDatos() {
            const datos = localStorage.getItem(STORAGE_KEY);
            if (datos) {
                libros = JSON.parse(datos);
            } else {
                libros = JSON.parse(JSON.stringify(librosEjemplo));
                guardarDatos();
            }
        }

        function guardarDatos() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(libros));
        }

        function buscarPorISBN(isbn) {
            return libros.find(l => l.isbn === isbn) || null;
        }

        // -- Renderizar tabla --
        function renderTabla(lista) {
            const body = document.getElementById('appTableBody');
            const data = lista || libros;
            selectedISBN = null;
            let html = '';
            data.forEach(libro => {
                const estado = libro.disponible
                    ? '<span class="tag-disp">‚úÖ Disp.</span>'
                    : '<span class="tag-prest">üìï Prest.</span>';
                const prest = libro.prestatario || '‚Äî';
                html += `<tr onclick="seleccionarFila('${libro.isbn}', this)" ondblclick="appVerDetalle('${libro.isbn}')">
                    <td style="font-family:monospace;font-size:11px;">${libro.isbn}</td>
                    <td style="font-weight:500;">${libro.titulo}</td>
                    <td>${libro.autor}</td>
                    <td>${libro.genero}</td>
                    <td>${estado}</td>
                    <td>${prest}</td>
                </tr>`;
            });
            if (data.length === 0) {
                html = '<tr><td colspan="6" style="text-align:center;padding:30px;color:#94a3b8;">No se encontraron libros</td></tr>';
            }
            body.innerHTML = html;
            renderStats();
        }

        function renderStats() {
            const total = libros.length;
            const disp = libros.filter(l => l.disponible).length;
            const prest = libros.filter(l => !l.disponible).length;
            document.getElementById('appStats').textContent =
                `üìö Total: ${total}   |   ‚úÖ Disponibles: ${disp}   |   üìï Prestados: ${prest}`;
        }

        function seleccionarFila(isbn, tr) {
            document.querySelectorAll('#appTableBody tr').forEach(r => r.classList.remove('selected'));
            tr.classList.add('selected');
            selectedISBN = isbn;
        }

        // -- Toast notifications --
        function showToast(msg, tipo) {
            const container = document.getElementById('appToastContainer');
            const toast = document.createElement('div');
            toast.className = `toast toast-${tipo || 'info'}`;
            toast.textContent = msg;
            container.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; toast.style.transition = 'opacity 0.3s'; }, 2500);
            setTimeout(() => toast.remove(), 2800);
        }

        // -- Modal helpers --
        function showModal(html) {
            document.getElementById('appModalContainer').innerHTML =
                `<div class="app-modal-overlay" onclick="if(event.target===this)cerrarModal()">
                    <div class="app-modal">${html}</div>
                </div>`;
        }
        function cerrarModal() {
            document.getElementById('appModalContainer').innerHTML = '';
        }

        // -- Abrir / Cerrar app --
        function abrirBiblioteca() {
            cargarDatos();
            renderTabla();
            document.getElementById('appOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
            document.getElementById('appFilterInput').value = '';
        }
        function cerrarBiblioteca() {
            document.getElementById('appOverlay').classList.remove('active');
            document.body.style.overflow = '';
            cerrarModal();
        }

        // -- Filtro r√°pido --
        function appFiltrar() {
            const texto = document.getElementById('appFilterInput').value.toLowerCase().trim();
            if (!texto) { renderTabla(); return; }
            const filtrados = libros.filter(l =>
                l.titulo.toLowerCase().includes(texto) ||
                l.autor.toLowerCase().includes(texto) ||
                l.isbn.toLowerCase().includes(texto) ||
                l.genero.toLowerCase().includes(texto)
            );
            renderTabla(filtrados);
        }

        // -- Actualizar --
        function appActualizar() {
            document.getElementById('appFilterInput').value = '';
            renderTabla();
            showToast('Lista actualizada', 'success');
        }

        // -- Agregar libro --
        function appAgregar() {
            showModal(`
                <h3>‚ûï Agregar Libro</h3>
                <label>T√≠tulo: *</label>
                <input type="text" id="mTitulo" placeholder="T√≠tulo del libro">
                <label>Autor: *</label>
                <input type="text" id="mAutor" placeholder="Autor del libro">
                <label>ISBN: *</label>
                <input type="text" id="mISBN" placeholder="ISBN √∫nico">
                <label>G√©nero:</label>
                <input type="text" id="mGenero" placeholder="General">
                <div class="app-modal-btns">
                    <button class="btn-cancel" onclick="cerrarModal()">Cancelar</button>
                    <button class="btn-primary" onclick="appGuardarLibro()">üíæ Guardar</button>
                </div>
            `);
            setTimeout(() => document.getElementById('mTitulo')?.focus(), 100);
        }

        function appGuardarLibro() {
            const titulo = document.getElementById('mTitulo').value.trim();
            const autor = document.getElementById('mAutor').value.trim();
            const isbn = document.getElementById('mISBN').value.trim();
            const genero = document.getElementById('mGenero').value.trim() || 'General';
            if (!titulo || !autor || !isbn) {
                showToast('T√≠tulo, Autor e ISBN son obligatorios', 'error');
                return;
            }
            if (buscarPorISBN(isbn)) {
                showToast(`Ya existe un libro con ISBN '${isbn}'`, 'error');
                return;
            }
            libros.push({
                titulo, autor, isbn, genero,
                disponible: true, fecha_prestamo: null, fecha_devolucion: null, prestatario: null
            });
            guardarDatos();
            cerrarModal();
            renderTabla();
            showToast(`Libro '${titulo}' agregado correctamente`, 'success');
        }

        // -- Buscar libro --
        function appBuscar() {
            showModal(`
                <h3>üîç Buscar Libro</h3>
                <label>Buscar por t√≠tulo, autor o ISBN:</label>
                <input type="text" id="mBuscar" placeholder="Ingrese texto a buscar...">
                <div class="app-modal-btns">
                    <button class="btn-cancel" onclick="cerrarModal()">Cancelar</button>
                    <button class="btn-primary" onclick="appEjecutarBusqueda()">üîç Buscar</button>
                </div>
            `);
            setTimeout(() => document.getElementById('mBuscar')?.focus(), 100);
        }

        function appEjecutarBusqueda() {
            const texto = document.getElementById('mBuscar').value.trim();
            if (texto) {
                document.getElementById('appFilterInput').value = texto;
                appFiltrar();
                cerrarModal();
            }
        }

        // -- Prestar libro --
        function appPrestar() {
            if (!selectedISBN) {
                showToast('Seleccione un libro de la tabla primero', 'info');
                return;
            }
            const libro = buscarPorISBN(selectedISBN);
            if (!libro) return;
            if (!libro.disponible) {
                showToast(`El libro ya est√° prestado a '${libro.prestatario}'`, 'error');
                return;
            }
            showModal(`
                <h3>üì§ Pr√©stamo de Libro</h3>
                <div style="background:#f0f9ff;padding:10px 14px;border-radius:8px;margin-bottom:12px;font-size:12px;color:#1e40af;">
                    üìó <strong>${libro.titulo}</strong> ‚Äî ${libro.autor}
                </div>
                <label>¬øA qui√©n se presta?</label>
                <input type="text" id="mPrestatario" placeholder="Nombre completo del prestatario">
                <div class="app-modal-btns">
                    <button class="btn-cancel" onclick="cerrarModal()">Cancelar</button>
                    <button class="btn-primary" onclick="appEjecutarPrestamo('${libro.isbn}')">üì§ Prestar</button>
                </div>
            `);
            setTimeout(() => document.getElementById('mPrestatario')?.focus(), 100);
        }

        function appEjecutarPrestamo(isbn) {
            const prestatario = document.getElementById('mPrestatario').value.trim();
            if (!prestatario) {
                showToast('El nombre del prestatario no puede estar vac√≠o', 'error');
                return;
            }
            const libro = buscarPorISBN(isbn);
            if (!libro || !libro.disponible) return;

            const ahora = new Date();
            const devolucion = new Date(ahora);
            devolucion.setDate(devolucion.getDate() + 14);

            libro.disponible = false;
            libro.prestatario = prestatario;
            libro.fecha_prestamo = ahora.toISOString();
            libro.fecha_devolucion = devolucion.toISOString();

            guardarDatos();
            cerrarModal();
            renderTabla();
            showToast(`'${libro.titulo}' prestado a ${prestatario}`, 'success');
        }

        // -- Devolver libro --
        function appDevolver() {
            if (!selectedISBN) {
                showToast('Seleccione un libro de la tabla primero', 'info');
                return;
            }
            const libro = buscarPorISBN(selectedISBN);
            if (!libro) return;
            if (libro.disponible) {
                showToast('Este libro ya est√° disponible, no necesita devoluci√≥n', 'info');
                return;
            }
            showModal(`
                <h3>üì• Confirmar Devoluci√≥n</h3>
                <div style="background:#fef2f2;padding:10px 14px;border-radius:8px;margin-bottom:12px;font-size:12px;color:#991b1b;">
                    üìï <strong>${libro.titulo}</strong><br>
                    Prestado a: <strong>${libro.prestatario}</strong>
                </div>
                <p style="font-size:13px;color:#475569;">¬øConfirmar devoluci√≥n de este libro?</p>
                <div class="app-modal-btns">
                    <button class="btn-cancel" onclick="cerrarModal()">Cancelar</button>
                    <button class="btn-primary" onclick="appEjecutarDevolucion('${libro.isbn}')">üì• Devolver</button>
                </div>
            `);
        }

        function appEjecutarDevolucion(isbn) {
            const libro = buscarPorISBN(isbn);
            if (!libro || libro.disponible) return;
            libro.disponible = true;
            libro.prestatario = null;
            libro.fecha_prestamo = null;
            libro.fecha_devolucion = null;
            guardarDatos();
            cerrarModal();
            renderTabla();
            showToast(`'${libro.titulo}' devuelto correctamente`, 'success');
        }

        // -- Eliminar libro --
        function appEliminar() {
            if (!selectedISBN) {
                showToast('Seleccione un libro de la tabla primero', 'info');
                return;
            }
            const libro = buscarPorISBN(selectedISBN);
            if (!libro) return;
            if (!libro.disponible) {
                showToast('No se puede eliminar un libro que est√° prestado', 'error');
                return;
            }
            showModal(`
                <h3>üóëÔ∏è Confirmar Eliminaci√≥n</h3>
                <div style="background:#fef2f2;padding:10px 14px;border-radius:8px;margin-bottom:12px;font-size:12px;color:#991b1b;">
                    ‚ö†Ô∏è <strong>${libro.titulo}</strong> ‚Äî ${libro.autor}<br>
                    ISBN: ${libro.isbn}
                </div>
                <p style="font-size:13px;color:#475569;">¬øEliminar este libro de la biblioteca? Esta acci√≥n no se puede deshacer.</p>
                <div class="app-modal-btns">
                    <button class="btn-cancel" onclick="cerrarModal()">Cancelar</button>
                    <button class="btn-primary" style="background:#dc2626;" onclick="appEjecutarEliminar('${libro.isbn}')">üóëÔ∏è Eliminar</button>
                </div>
            `);
        }

        function appEjecutarEliminar(isbn) {
            const idx = libros.findIndex(l => l.isbn === isbn);
            if (idx === -1) return;
            const titulo = libros[idx].titulo;
            libros.splice(idx, 1);
            guardarDatos();
            cerrarModal();
            renderTabla();
            showToast(`'${titulo}' eliminado correctamente`, 'success');
        }

        // -- Estad√≠sticas --
        function appEstadisticas() {
            const total = libros.length;
            const disp = libros.filter(l => l.disponible).length;
            const prest = libros.filter(l => !l.disponible).length;
            const generos = {};
            libros.forEach(l => { generos[l.genero] = (generos[l.genero] || 0) + 1; });
            let generosHTML = Object.entries(generos)
                .map(([g, c]) => `<div style="display:flex;justify-content:space-between;padding:4px 0;"><span>‚Ä¢ ${g}</span><span style="font-weight:700;">${c}</span></div>`)
                .join('');

            showModal(`
                <h3>üìä Estad√≠sticas de la Biblioteca</h3>
                <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-bottom:16px;">
                    <div style="background:#dbeafe;padding:14px;border-radius:10px;text-align:center;">
                        <div style="font-size:24px;font-weight:900;color:#1e40af;">${total}</div>
                        <div style="font-size:11px;color:#3b82f6;">üìö Total</div>
                    </div>
                    <div style="background:#dcfce7;padding:14px;border-radius:10px;text-align:center;">
                        <div style="font-size:24px;font-weight:900;color:#166534;">${disp}</div>
                        <div style="font-size:11px;color:#22c55e;">‚úÖ Disponibles</div>
                    </div>
                    <div style="background:#fef2f2;padding:14px;border-radius:10px;text-align:center;">
                        <div style="font-size:24px;font-weight:900;color:#991b1b;">${prest}</div>
                        <div style="font-size:11px;color:#ef4444;">üìï Prestados</div>
                    </div>
                </div>
                <div style="background:#f8fafc;padding:12px 16px;border-radius:10px;border:1px solid #e2e8f0;">
                    <div style="font-weight:700;font-size:13px;margin-bottom:8px;color:#1e3a5f;">üìÇ Libros por g√©nero:</div>
                    ${generosHTML}
                </div>
                <div class="app-modal-btns">
                    <button class="btn-primary" onclick="cerrarModal()">Cerrar</button>
                </div>
            `);
        }

        // -- Ver detalle (doble clic) --
        function appVerDetalle(isbn) {
            const libro = buscarPorISBN(isbn);
            if (!libro) return;
            const estado = libro.disponible ? '‚úÖ Disponible' : `üìï Prestado a ${libro.prestatario}`;
            const fechaPrest = libro.fecha_prestamo ? new Date(libro.fecha_prestamo).toLocaleDateString('es-ES') : '‚Äî';
            const fechaDev = libro.fecha_devolucion ? new Date(libro.fecha_devolucion).toLocaleDateString('es-ES') : '‚Äî';
            showModal(`
                <h3>üìñ Detalle del Libro</h3>
                <div style="space-y-2;font-size:13px;">
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">T√≠tulo:</span><strong>${libro.titulo}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">Autor:</span><strong>${libro.autor}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">ISBN:</span><strong style="font-family:monospace;">${libro.isbn}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">G√©nero:</span><strong>${libro.genero}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">Estado:</span><strong>${estado}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f1f5f9;"><span style="color:#64748b;">Fecha pr√©stamo:</span><strong>${fechaPrest}</strong></div>
                    <div style="display:flex;justify-content:space-between;padding:6px 0;"><span style="color:#64748b;">Fecha devoluci√≥n:</span><strong>${fechaDev}</strong></div>
                </div>
                <div class="app-modal-btns">
                    <button class="btn-primary" onclick="cerrarModal()">Cerrar</button>
                </div>
            `);
        }

        // -- Keyboard shortcuts dentro del app --
        document.addEventListener('keydown', function(e) {
            if (!document.getElementById('appOverlay').classList.contains('active')) return;
            if (e.key === 'Escape') {
                const modal = document.getElementById('appModalContainer').innerHTML;
                if (modal) { cerrarModal(); }
                else { cerrarBiblioteca(); }
            }
        });
    </script>
</body>
</html>
